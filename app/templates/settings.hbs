<TitleBar @title="Settings" @settingsNavsBack={{true}} />

<div class="settings-view">
  <div class="account-info row">
    <label>{{model.email}}</label>
    <button class="logout" {{action "signOut"}}><ion-icon name="log-out"></ion-icon></button>
  </div>

  <div class="lifts">
    {{#each model.lifts as |lift|}}
      <div class="row">
        {{#if editingLifts}}
          <button class="delete-lift" {{action "deleteLift" lift}}>
            <ion-icon name="close-circle-outline"></ion-icon>
          </button>
          <Input class="lift-input name" @value={{lift.name}} />
          <Input class="lift-input max" @type="number" @value={{lift.max}} />
        {{else}}
          <button class="increment" {{action "decreaseLift" lift}}>-5</button>
          <span class="lift">{{capitalize lift.name}}</span>
          <span class="max">{{lift.max}}</span>
          <button class="increment" {{action "increaseLift" lift}}>+5</button>
        {{/if}}
      </div>
    {{/each}}

    <div class="row">
      {{#if editingLifts}}
        <button class="cancel-new-lift" {{action "cancelNewLift"}}>
          <ion-icon name="close-circle-outline"></ion-icon>
        </button>
        <Input class="lift-input name" @placeholder="name" @value={{newLiftName}} />
        <Input class="lift-input max" @placeholder="45" @type="number" @value={{newLiftMax}} />
        <button class="save-new-lift" {{action "saveNewLift" newLiftName newLiftMax}}>
          <ion-icon name="checkmark-circle-outline"></ion-icon>
        </button>
      {{/if}}
    </div>

    <div class="row">
      {{#if editingLifts}}
        <button class="cancel-edit" {{action "cancelLiftChanges"}}>
          Cancel <ion-icon name="close"></ion-icon>
        </button>
        <button class="save-edit" {{action "saveLiftChanges"}}>
          Save <ion-icon name="save"></ion-icon>
        </button>
      {{else}}
        <button class="add-item" {{action "showliftInput"}}>
          Edit <ion-icon name="create"></ion-icon>
        </button>
      {{/if}}
    </div>
  </div>

  <div class="plates">
    <div class="row title">Plates</div>
    <div class="row">
      {{#each model.barLoading.plates as |plate|}}
        <span>{{plate}}</span>
      {{/each}}

      <button class="add-item inline" {{action "newPlate"}}>
        <ion-icon name="add-circle-outline"></ion-icon>
      </button>
    </div>
  </div>

  <div class="bar">
    <div class="row title">Bar</div>
    <div class="row">
      <button class="increment" {{action "decreaseBar" model.barLoading}}>-5</button>
      <span class="max">{{model.barLoading.bar}}</span>
      <button class="increment" {{action "increaseBar" model.barLoading}}>+5</button>
    </div>
  </div>
</div>